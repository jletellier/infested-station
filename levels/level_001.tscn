[gd_scene load_steps=29 format=2]

[ext_resource path="res://levels/tileset.tres" type="TileSet" id=1]
[ext_resource path="res://characters/player.tscn" type="PackedScene" id=2]
[ext_resource path="res://levels/elevator.tscn" type="PackedScene" id=3]
[ext_resource path="res://characters/ladybug.tscn" type="PackedScene" id=4]
[ext_resource path="res://external_resources/Living_Room_Singles_Shadowless_13.png" type="Texture" id=5]
[ext_resource path="res://levels/vending_machine.tscn" type="PackedScene" id=6]
[ext_resource path="res://levels/door_horizontal.tscn" type="PackedScene" id=7]
[ext_resource path="res://items/key_item.tscn" type="PackedScene" id=8]
[ext_resource path="res://items/coin_item.tscn" type="PackedScene" id=9]

[sub_resource type="AnimationNodeStateMachinePlayback" id=1]

[sub_resource type="AnimationNodeStateMachinePlayback" id=3]

[sub_resource type="AnimationNodeStateMachinePlayback" id=5]

[sub_resource type="AnimationNodeStateMachinePlayback" id=8]

[sub_resource type="AnimationNodeStateMachinePlayback" id=9]

[sub_resource type="AnimationNodeStateMachinePlayback" id=12]

[sub_resource type="CircleShape2D" id=11]
radius = 7.5

[sub_resource type="Curve2D" id=2]
bake_interval = 16.0
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 280, 392, 0, 0, 0, 0, 344, 392 )
}

[sub_resource type="Curve2D" id=4]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 97, 338, 0, 0, 0, 0, 241, 338, 0, 0, 0, 0, 241, 306 )
}

[sub_resource type="Curve2D" id=6]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 152, 488, 0, 0, 0, 0, 120, 488, 0, 0, 0, 0, 120, 520, 0, 0, 0, 0, 152, 520 )
}

[sub_resource type="Curve2D" id=7]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 168, 504, 0, 0, 0, 0, 264, 504 )
}

[sub_resource type="Curve2D" id=10]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 280, 488, 0, 0, 0, 0, 344, 488, 0, 0, 0, 0, 344, 408, 0, 0, 0, 0, 344, 520, 0, 0, 0, 0, 280, 520 )
}

[sub_resource type="Curve2D" id=13]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 376, 504, 0, 0, 0, 0, 408, 504 )
}

[sub_resource type="VisualScriptFunction" id=17]
resource_name = "_on_TriggerDialog2_body_entered"
argument_count = 1
argument_1/type = 0
argument_1/name = "body"

[sub_resource type="VisualScriptFunctionCall" id=19]
_default_input_values = [ NodePath("../YSort/DoorHorizontal") ]
base_type = "Area2D"
argument_cache = {
"args": [ {
"class_name": "",
"hint": 0,
"hint_string": "",
"name": "path",
"type": 15,
"usage": 7
} ],
"default_args": [  ],
"flags": 9,
"id": 0,
"name": "",
"return": {
"class_name": "Node",
"hint": 0,
"hint_string": "",
"name": "",
"type": 17,
"usage": 7
}
}
function = "get_node"

[sub_resource type="VisualScriptFunctionCall" id=20]
_default_input_values = [ null, true ]
call_mode = 2
base_type = "Area2D"
base_script = "res://levels/door.gd"
argument_cache = {
"args": [ {
"class_name": "",
"hint": 0,
"hint_string": "",
"name": "",
"type": 1,
"usage": 7
} ],
"default_args": [  ],
"flags": 1,
"id": 0,
"name": "update_open",
"return": {
"class_name": "",
"hint": 0,
"hint_string": "",
"name": "",
"type": 0,
"usage": 7
}
}
function = "update_open"

[sub_resource type="VisualScriptFunctionCall" id=21]
base_type = "Area2D"
argument_cache = {
"args": [  ],
"default_args": [  ],
"flags": 1,
"id": 0,
"name": "",
"return": {
"class_name": "",
"hint": 0,
"hint_string": "",
"name": "",
"type": 0,
"usage": 7
}
}
function = "queue_free"

[sub_resource type="VisualScript" id=15]
data = {
"base_type": "Area2D",
"functions": [ {
"data_connections": [  ],
"function_id": -1,
"name": "f_312843592",
"nodes": [  ],
"scroll": Vector2( -32.0868, -309.271 ),
"sequence_connections": [  ]
}, {
"data_connections": [ 3, 0, 4, 0 ],
"function_id": 0,
"name": "_on_TriggerDialog2_body_entered",
"nodes": [ 0, Vector2( 13.3333, 0 ), SubResource( 17 ), 3, Vector2( 80, 120 ), SubResource( 19 ), 4, Vector2( 413.333, 0 ), SubResource( 20 ), 5, Vector2( 746.667, 0 ), SubResource( 21 ) ],
"scroll": Vector2( -300, -277.5 ),
"sequence_connections": [ 0, 0, 4, 4, 0, 5 ]
} ],
"is_tool_script": false,
"signals": [  ],
"variables": [  ],
"vs_unify": true
}

[sub_resource type="RectangleShape2D" id=16]
extents = Vector2( 8, 8 )

[node name="Level001" type="Node2D"]

[node name="TileMap" type="TileMap" parent="."]
tile_set = ExtResource( 1 )
cell_size = Vector2( 16, 16 )
cell_custom_transform = Transform2D( 16, 0, 0, 16, 0, 0 )
show_collision = true
collision_mask = 0
format = 1
tile_data = PoolIntArray( 720910, 1, 65542, 720911, 0, 1, 720912, 0, 1, 720913, 0, 1, 720914, 0, 1, 720915, 1, 65544, 786446, 1, 0, 786447, 0, 65537, 786448, 0, 65537, 786449, 0, 65537, 786450, 0, 65537, 786451, 1, 1, 851982, 1, 0, 851983, 4, 0, 851984, 4, 0, 851985, 4, 0, 851986, 4, 0, 851987, 1, 1, 917511, 1, 65542, 917512, 1, 131081, 917513, 1, 131083, 917514, 1, 65544, 917518, 1, 0, 917519, 4, 0, 917520, 4, 0, 917521, 4, 0, 917522, 4, 0, 917523, 1, 1, 983046, 1, 65542, 983047, 0, 1, 983048, 3, 0, 983049, 3, 0, 983050, 0, 1, 983051, 0, 1, 983052, 0, 1, 983053, 0, 1, 983054, 0, 1, 983055, 7, 0, 983056, 4, 0, 983057, 6, 0, 983058, 5, 0, 983059, 1, 1, 1048582, 1, 0, 1048583, 0, 65537, 1048584, 3, 0, 1048585, 3, 0, 1048586, 0, 65537, 1048587, 0, 65537, 1048588, 0, 65537, 1048589, 0, 65537, 1048590, 0, 65537, 1048591, 0, 65538, 1048592, 4, 0, 1048593, 0, 65536, 1048594, 0, 65537, 1048595, 1, 131080, 1114118, 1, 0, 1114119, 4, 0, 1114120, 4, 0, 1114121, 4, 0, 1114122, 4, 0, 1114123, 4, 0, 1114124, 4, 0, 1114125, 4, 0, 1114126, 4, 0, 1114127, 4, 0, 1114128, 4, 0, 1114129, 4, 0, 1114130, 4, 0, 1114131, 1, 131080, 1179654, 1, 0, 1179655, 4, 0, 1179656, 4, 0, 1179657, 4, 0, 1179658, 4, 0, 1179659, 4, 0, 1179660, 4, 0, 1179661, 4, 0, 1179662, 4, 0, 1179663, 4, 0, 1179664, 4, 0, 1179665, 4, 0, 1179666, 4, 0, 1179667, 1, 131080, 1245190, 1, 0, 1245191, 4, 0, 1245192, 4, 0, 1245193, 4, 0, 1245194, 4, 0, 1245195, 4, 0, 1245196, 4, 0, 1245197, 4, 0, 1245198, 4, 0, 1245199, 4, 0, 1245200, 4, 0, 1245201, 4, 0, 1245202, 4, 0, 1245203, 1, 131080, 1310726, 1, 196614, 1310727, 1, 65543, 1310728, 1, 65543, 1310729, 1, 65543, 1310730, 1, 65543, 1310731, 1, 65543, 1310732, 1, 196615, 1310733, 1, 196615, 1310734, 1, 196615, 1310735, 1, 196615, 1310736, 1, 131072, 1310737, 4, 0, 1310738, 1, 131073, 1310739, 1, 196616, 1376272, 1, 0, 1376273, 4, 0, 1376274, 1, 1, 1441808, 1, 0, 1441809, 4, 0, 1441810, 0, 0, 1441811, 0, 1, 1441812, 0, 1, 1441813, 0, 1, 1441814, 1, 65544, 1507344, 1, 0, 1507345, 4, 0, 1507346, 0, 65536, 1507347, 0, 65537, 1507348, 0, 65537, 1507349, 0, 65537, 1507350, 1, 1, 1572880, 1, 0, 1572881, 4, 0, 1572882, 4, 0, 1572883, 4, 0, 1572884, 4, 0, 1572885, 4, 0, 1572886, 1, 1, 1638407, 1, 65542, 1638408, 0, 1, 1638409, 0, 1, 1638410, 0, 1, 1638411, 0, 1, 1638412, 0, 1, 1638413, 0, 1, 1638414, 0, 1, 1638415, 0, 1, 1638416, 0, 2, 1638417, 4, 0, 1638418, 1, 131073, 1638419, 1, 65543, 1638420, 1, 131072, 1638421, 4, 0, 1638422, 1, 1, 1703943, 1, 0, 1703944, 0, 65537, 1703945, 0, 65537, 1703946, 0, 65537, 1703947, 0, 65537, 1703948, 0, 65537, 1703949, 0, 65537, 1703950, 0, 65537, 1703951, 0, 65537, 1703952, 0, 65538, 1703953, 4, 0, 1703954, 1, 1, 1703956, 1, 0, 1703957, 4, 0, 1703958, 1, 1, 1769479, 1, 0, 1769480, 4, 0, 1769481, 4, 0, 1769482, 4, 0, 1769483, 4, 0, 1769484, 4, 0, 1769485, 4, 0, 1769486, 4, 0, 1769487, 4, 0, 1769488, 4, 0, 1769489, 4, 0, 1769490, 1, 1, 1769492, 1, 0, 1769493, 4, 0, 1769494, 1, 1, 1769498, 1, 65542, 1769499, 1, 131081, 1769500, 1, 131083, 1769501, 1, 65544, 1835014, 1, 65542, 1835015, 0, 2, 1835016, 4, 0, 1835017, 0, 0, 1835018, 1, 9, 1835019, 4, 0, 1835020, 4, 0, 1835021, 4, 0, 1835022, 4, 0, 1835023, 4, 0, 1835024, 1, 11, 1835025, 0, 1, 1835026, 0, 1, 1835027, 0, 1, 1835028, 0, 2, 1835029, 4, 0, 1835030, 0, 0, 1835031, 1, 65544, 1835033, 1, 65542, 1835034, 0, 1, 1835035, 3, 0, 1835036, 3, 0, 1835037, 0, 1, 1835038, 1, 65544, 1900550, 1, 131078, 1900551, 0, 65538, 1900552, 4, 0, 1900553, 0, 65536, 1900554, 0, 7, 1900555, 5, 0, 1900556, 5, 0, 1900557, 5, 0, 1900558, 5, 0, 1900559, 5, 0, 1900560, 0, 9, 1900561, 0, 65537, 1900562, 0, 65537, 1900563, 0, 65537, 1900564, 0, 65538, 1900565, 4, 0, 1900566, 0, 65536, 1900567, 0, 0, 1900568, 0, 1, 1900569, 0, 2, 1900570, 0, 65537, 1900571, 3, 0, 1900572, 3, 0, 1900573, 0, 65537, 1900574, 1, 131080, 1966086, 1, 131078, 1966087, 4, 0, 1966088, 4, 0, 1966089, 4, 0, 1966090, 0, 65536, 1966091, 0, 65537, 1966092, 0, 65537, 1966093, 0, 65537, 1966094, 0, 65537, 1966095, 0, 65537, 1966096, 0, 65538, 1966097, 4, 0, 1966098, 4, 0, 1966099, 4, 0, 1966100, 4, 0, 1966101, 4, 0, 1966102, 4, 0, 1966103, 0, 65536, 1966104, 0, 65537, 1966105, 0, 65538, 1966106, 4, 0, 1966107, 4, 0, 1966108, 4, 0, 1966109, 4, 0, 1966110, 1, 131080, 2031622, 1, 131078, 2031623, 4, 0, 2031624, 4, 0, 2031625, 4, 0, 2031626, 4, 0, 2031627, 4, 0, 2031628, 4, 0, 2031629, 4, 0, 2031630, 4, 0, 2031631, 4, 0, 2031632, 4, 0, 2031633, 4, 0, 2031634, 4, 0, 2031635, 4, 0, 2031636, 4, 0, 2031637, 4, 0, 2031638, 4, 0, 2031639, 4, 0, 2031640, 4, 0, 2031641, 4, 0, 2031642, 4, 0, 2031643, 4, 0, 2031644, 4, 0, 2031645, 4, 0, 2031646, 1, 131080, 2097158, 1, 131078, 2097159, 4, 0, 2097160, 4, 0, 2097161, 4, 0, 2097162, 1, 131073, 2097163, 1, 65543, 2097164, 1, 65543, 2097165, 1, 65543, 2097166, 1, 65543, 2097167, 1, 65543, 2097168, 1, 131072, 2097169, 4, 0, 2097170, 4, 0, 2097171, 4, 0, 2097172, 4, 0, 2097173, 4, 0, 2097174, 4, 0, 2097175, 1, 131073, 2097176, 1, 196615, 2097177, 1, 131072, 2097178, 4, 0, 2097179, 4, 0, 2097180, 4, 0, 2097181, 4, 0, 2097182, 1, 131080, 2162694, 1, 196614, 2162695, 1, 196615, 2162696, 1, 196615, 2162697, 1, 196615, 2162698, 1, 196616, 2162704, 1, 196614, 2162705, 1, 196615, 2162706, 1, 196615, 2162707, 1, 196615, 2162708, 1, 196615, 2162709, 1, 196615, 2162710, 1, 196615, 2162711, 1, 196616, 2162713, 1, 196614, 2162714, 1, 196615, 2162715, 1, 196615, 2162716, 1, 196615, 2162717, 1, 196615, 2162718, 1, 196616 )

[node name="YSort" type="YSort" parent="."]

[node name="Player" parent="YSort" instance=ExtResource( 2 )]
position = Vector2( 152, 296 )

[node name="Enemy1" parent="YSort" instance=ExtResource( 4 )]
position = Vector2( 280, 392 )

[node name="AnimationTree" parent="YSort/Enemy1" index="3"]
parameters/playback = SubResource( 1 )

[node name="FollowPath" parent="YSort/Enemy1" index="5"]
path = NodePath("../../../EnemyPath1")

[node name="Enemy2" parent="YSort" instance=ExtResource( 4 )]
position = Vector2( 136, 440 )

[node name="AnimationTree" parent="YSort/Enemy2" index="3"]
parameters/playback = SubResource( 3 )

[node name="FollowPath" parent="YSort/Enemy2" index="5"]
path = NodePath("../../../EnemyPath2")

[node name="Enemy3" parent="YSort" instance=ExtResource( 4 )]
position = Vector2( 152, 488 )

[node name="AnimationTree" parent="YSort/Enemy3" index="3"]
parameters/playback = SubResource( 5 )

[node name="FollowPath" parent="YSort/Enemy3" index="5"]
path = NodePath("../../../EnemyPath3")
loop = true

[node name="Enemy4" parent="YSort" instance=ExtResource( 4 )]
position = Vector2( 168, 504 )

[node name="AnimationTree" parent="YSort/Enemy4" index="3"]
parameters/playback = SubResource( 8 )

[node name="FollowPath" parent="YSort/Enemy4" index="5"]
path = NodePath("../../../EnemyPath4")

[node name="Enemy5" parent="YSort" instance=ExtResource( 4 )]
position = Vector2( 280, 488 )

[node name="AnimationTree" parent="YSort/Enemy5" index="3"]
parameters/playback = SubResource( 9 )

[node name="FollowPath" parent="YSort/Enemy5" index="5"]
path = NodePath("../../../EnemyPath5")
loop = true

[node name="Enemy6" parent="YSort" instance=ExtResource( 4 )]
position = Vector2( 376, 504 )

[node name="AnimationTree" parent="YSort/Enemy6" index="3"]
parameters/playback = SubResource( 12 )

[node name="FollowPath" parent="YSort/Enemy6" index="5"]
path = NodePath("../../../EnemyPath6")

[node name="Tree2" type="StaticBody2D" parent="YSort"]
position = Vector2( 472, 520 )
collision_mask = 0

[node name="Sprite" type="Sprite" parent="YSort/Tree2"]
position = Vector2( 0, -10 )
texture = ExtResource( 5 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="YSort/Tree2"]
shape = SubResource( 11 )

[node name="Tree3" type="StaticBody2D" parent="YSort"]
position = Vector2( 200, 280 )
collision_mask = 0

[node name="Sprite" type="Sprite" parent="YSort/Tree3"]
position = Vector2( 0, -10 )
texture = ExtResource( 5 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="YSort/Tree3"]
shape = SubResource( 11 )

[node name="VendingMachine" parent="YSort" instance=ExtResource( 6 )]
position = Vector2( 224, 280 )

[node name="ElevatorStart" parent="YSort" instance=ExtResource( 3 )]
position = Vector2( 144, 264 )

[node name="ElevatorEnd" parent="YSort" instance=ExtResource( 3 )]
position = Vector2( 448, 472 )
_open = true

[node name="DoorHorizontal" parent="YSort" instance=ExtResource( 7 )]
position = Vector2( 264, 264 )

[node name="KeyItem" parent="YSort" instance=ExtResource( 8 )]
position = Vector2( 136, 504 )

[node name="CoinItem" parent="YSort" instance=ExtResource( 9 )]
position = Vector2( 280, 216 )

[node name="CoinItem2" parent="YSort" instance=ExtResource( 9 )]
position = Vector2( 296, 504 )

[node name="CoinItem3" parent="YSort" instance=ExtResource( 9 )]
position = Vector2( 312, 504 )

[node name="CoinItem4" parent="YSort" instance=ExtResource( 9 )]
position = Vector2( 328, 504 )

[node name="CoinItem5" parent="YSort" instance=ExtResource( 9 )]
position = Vector2( 424, 520 )

[node name="CoinItem6" parent="YSort" instance=ExtResource( 9 )]
position = Vector2( 424, 488 )

[node name="EnemyPath1" type="Path2D" parent="."]
curve = SubResource( 2 )

[node name="EnemyPath2" type="Path2D" parent="."]
position = Vector2( 39, 102 )
curve = SubResource( 4 )

[node name="EnemyPath3" type="Path2D" parent="."]
curve = SubResource( 6 )

[node name="EnemyPath4" type="Path2D" parent="."]
curve = SubResource( 7 )

[node name="EnemyPath5" type="Path2D" parent="."]
curve = SubResource( 10 )

[node name="EnemyPath6" type="Path2D" parent="."]
curve = SubResource( 13 )

[node name="TriggerDialog2" type="Area2D" parent="."]
position = Vector2( 136, 472 )
collision_layer = 0
collision_mask = 2
monitoring = false
script = SubResource( 15 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="TriggerDialog2"]
shape = SubResource( 16 )

[connection signal="body_entered" from="TriggerDialog2" to="TriggerDialog2" method="_on_TriggerDialog2_body_entered"]

[editable path="YSort/Enemy1"]
[editable path="YSort/Enemy2"]
[editable path="YSort/Enemy3"]
[editable path="YSort/Enemy4"]
[editable path="YSort/Enemy5"]
[editable path="YSort/Enemy6"]
